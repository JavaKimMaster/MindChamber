<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>WebSocket í…ŒìŠ¤íŠ¸</title>
</head>
<body>
<h1>ğŸ”Œ WebSocket ì—°ê²° ìƒíƒœ: <span id="status">ì—°ê²° ì•ˆ ë¨</span></h1>
<pre id="messages" style="background: #f0f0f0; padding: 10px;"></pre>

<script>
    const statusSpan = document.getElementById("status");
    const messagesBox = document.getElementById("messages");

    // WebSocket ì„œë²„ ì£¼ì†Œ
    const ws = new WebSocket("ws://localhost:8080/ws/event");

    ws.onopen = () => {
        statusSpan.textContent = "âœ… ì—°ê²°ë¨";
        statusSpan.style.color = "green";
    };

    ws.onmessage = (event) => {
        const msg = event.data;
        const now = new Date().toLocaleTimeString();
        messagesBox.textContent += `[${now}] ğŸ“© ìˆ˜ì‹ : ${msg}\n`;
    };

    ws.onclose = () => {
        statusSpan.textContent = "âŒ ì—°ê²° ì¢…ë£Œ";
        statusSpan.style.color = "red";
    };

    ws.onerror = (err) => {
        console.error("WebSocket ì—ëŸ¬:", err);
        statusSpan.textContent = "âš ï¸ ì˜¤ë¥˜ ë°œìƒ";
        statusSpan.style.color = "orange";
    };
</script>
</body>
</html>
